!function(){angular.module("botanika",["ionic","botanika.research","botanika.config","pouchdb"])}(),function(){function e(e,r,n){function t(e,r){var n={_id:"_design/"+e,views:{}};return n.views[e]={map:r.toString()},n}function a(){return r.when(u.query("research",{include_docs:!0})).then(function(e){return e.rows})}function o(e){return r.when(u.get(e))}function i(e){return o(e).then(function(e){return u.remove(e)})}function c(e){return e._id?r.when(u.put(e)):(e.type="research",r.when(u.post(e)))}var s={getAll:a,load:o,remove:i,save:c},u=n("botanika"),l=t("research",function(e){"research"===e.type&&emit(e._id)});return u.put(l),s}angular.module("botanika").service("Research",e),e.$inject=["$http","$q","pouchDB"]}(),function(){function e(){return function(e){return"undefined"==typeof e?"":e.length>150?e.substring(0,150)+" ... (ver detalhes)":0==e.length?"Nenhuma descrição":e}}angular.module("botanika").filter("seeMore",e)}(),function(){angular.module("botanika.research",[])}(),function(){function e(e,r,n){function t(){o.loading=!0,e.getAll().then(function(e){o.loading=!1,o.researchs=e})}function a(r){n.show({template:"Removendo projeto ..."}),e.remove(r)["finally"](function(){t(),n.hide()})}var o=this;r.$on("$ionicView.beforeEnter",function(){o.researchs=[],t()}),o.researchs=[],t(),o.remove=a}angular.module("botanika.research").controller("ResearchListController",e),e.$inject=["Research","$scope","$ionicLoading"]}(),function(){function e(e,r,n){function t(e){n.load(e).then(function(e){u.research=e})}function a(){u.research={metrics:[],name:"",description:""}}function o(){u.metric={name:"",type:0}}function i(){var e=angular.copy(u.metric);u.research.metrics.push(e),o()}function c(e){u.research.metrics.splice(e,1)}function s(){var e=angular.copy(u.research);n.save(e).then(function(){r.goBack()})}var u=this,l=e.params.id;u.isEditing=!!l;var h=["Numérico"];u.types=h,u.addMetric=i,u.removeMetric=c,u.saveResearch=s,u.isEditing?t(l):a(),o()}angular.module("botanika.research").controller("ResearchController",e),e.$inject=["$state","$ionicHistory","Research"]}(),function(){function e(e,r){e.state("research",{url:"/research",templateUrl:"src/research/research.list.html",controller:"ResearchListController as vm"}).state("research.new",{url:"/new",parent:"research",views:{"@":{templateUrl:"src/research/research.edit.html",controller:"ResearchController as vm"}}}).state("research.edit",{url:"/:id",parent:"research",views:{"@":{templateUrl:"src/research/research.edit.html",controller:"ResearchController as vm"}}}),r.otherwise("/research")}angular.module("botanika.config",[]).config(e),e.$inject=["$stateProvider","$urlRouterProvider"]}();